(this.webpackJsonpkirinuki=this.webpackJsonpkirinuki||[]).push([[0],{105:function(e,t,a){e.exports={AngleSlider:"AngleSlider_AngleSlider__2SJUR"}},111:function(e,t,a){e.exports={Cropper:"Canvas_Cropper__3Z3Jq"}},119:function(e,t,a){e.exports=a(194)},193:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),i=a(39),l=a(9),u=a(14),s=[],m=Object(i.b)({name:"crops",initialState:s,reducers:{addCrop:function(e,t){e.push(t.payload)},deleteCrop:function(e,t){e.splice(t.payload,1)},clearCrops:function(){return s}}}),p=m.reducer,d=m.actions,b=d.addCrop,f=d.deleteCrop,g=d.clearCrops,v=a(117),C={fileName:null,url:null,angle:0},_=Object(i.b)({name:"sourceImage",initialState:C,reducers:{open:function(e,t){return Object(v.a)({},t.payload,{angle:C.angle})},close:function(){return C},setAngle:function(e,t){e.angle=t.payload},increaseAngle:function(e){e.angle=e.angle+.1},decreaseAngle:function(e){e.angle=e.angle-.1}}}),h=_.reducer,w=_.actions,E=w.open,O=w.close,j=w.setAngle,k=w.increaseAngle,y=w.decreaseAngle,N=Object(u.combineReducers)({crops:p,sourceImage:h}),L=a(197),S=a(11),x=a(5),I=a.n(x),A=a(23),D=a.n(A),R=D.a.ThumbnailPreview,P=function(e){var t=e.className,a=Object(l.c)((function(e){return e.crops})),c=Object(l.b)(),o=Object(n.useCallback)((function(e){return function(){c(f(e))}}),[c]),i=Object(l.c)((function(e){var t;return null!==(t=e.sourceImage.url)&&void 0!==t?t:void 0}));return r.a.createElement("div",{className:I()(t,D.a.CropList)},a.map((function(e,t){return r.a.createElement("div",{key:t,className:D.a.Crop},r.a.createElement("div",{className:D.a.Thumbnail,style:e.divStyle},r.a.createElement("img",{src:i,alt:"\u5207\u308a\u629c\u304d ".concat(t+1),style:e.imgStyle})),r.a.createElement(S.a,{className:D.a.DeleteIcon,type:"delete",onClick:o(t)}))})),r.a.createElement("div",{className:I()(D.a.Crop,D.a.CropPreview)},r.a.createElement("div",{className:I()(D.a.Thumbnail,R)})))},T=a(195),B=a(105),U=a.n(B),F=function(e){return"".concat(e.toFixed(1),"\xb0")},z=function(){var e=Object(l.c)((function(e){return e.sourceImage})),t=Boolean(e.url),a=Object(l.b)(),c=Object(n.useCallback)((function(e){"number"===typeof e&&a(j(e))}),[a]);return r.a.createElement(T.a,{className:U.a.AngleSlider,disabled:!t,min:-10,max:10,step:.1,defaultValue:0,value:e.angle,onChange:c,tipFormatter:F,tooltipPlacement:"bottom"})},J=a(49),q=function(){var e=Object(l.c)((function(e){return e.crops})),t=Object(l.c)((function(e){return e.sourceImage.fileName})),a=Object(n.useCallback)((function(){var a,n=JSON.stringify(e.map((function(e){return e.params})),null,2),r="".concat((a=t).substr(0,a.lastIndexOf(".")),".json");!function(e){var t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=e.name,a.click(),URL.revokeObjectURL(t)}(new File([n],r,{type:"application/json"}))}),[e,t]);return r.a.createElement(J.a,{disabled:!e.length,type:"primary",icon:"download",onClick:a},"\u5207\u308a\u629c\u304d\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9")},K=a(42),W=a.n(K),M=W.a.Preview,Z=function(){return r.a.createElement("div",{className:W.a.Sidebar},r.a.createElement(z,null),r.a.createElement("div",{className:W.a.PreviewWrapper},r.a.createElement("div",{className:W.a.Preview})),r.a.createElement(P,{className:W.a.CropList}),r.a.createElement(q,null))},H=a(110),V=a.n(H),Y=(a(191),a(111)),G=a.n(Y),Q=function(e){var t,a=e.cropperRef,c=e.previews,o=Object(l.c)((function(e){return e.sourceImage}));return Object(n.useEffect)((function(){a.current&&a.current.rotateTo(o.angle)}),[a,o.angle]),r.a.createElement(V.a,{className:G.a.Cropper,ref:function(e){a.current=e},src:null!==(t=o.url)&&void 0!==t?t:void 0,autoCropArea:.2,preview:c.map((function(e){return".".concat(e)})).join(", "),dragMode:"move",toggleDragModeOnDblclick:!1})},X=a(196),$=a(85),ee=a.n($),te=X.a.confirm,ae=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.sourceImage})),a=Object(n.useCallback)((function(){t.url&&(URL.revokeObjectURL(t.url),e(O()),e(g()))}),[e,t.url]),c=Object(l.c)((function(e){return e.crops.length>0})),o=Object(n.useCallback)((function(){return c?te({title:"\u753b\u50cf\u3092\u9589\u3058\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",content:"\u5207\u308a\u629c\u304d\u30c7\u30fc\u30bf\u306f\u7834\u68c4\u3055\u308c\u307e\u3059\u3002",okType:"danger",onOk:a,okText:"OK",cancelText:"\u30ad\u30e3\u30f3\u30bb\u30eb",centered:!0}):a()}),[a,c]);return r.a.createElement("div",{className:ee.a.FileName,onClick:o},t.fileName,r.a.createElement(S.a,{className:ee.a.CloseIcon,type:"close-circle"}))},ne=a(114),re=a(43),ce=a(61),oe=a.n(ce),ie=function(){var e=Object(l.c)((function(e){return Boolean(e.sourceImage.url)})),t=Object(l.b)(),a=Object(ne.a)({accept:["image/jpeg","image/png"],noClick:e,noKeyboard:!0,onDrop:function(e){var a=e[0];if(e){var n=URL.createObjectURL(a);t(E({fileName:a.name,url:n}))}}}),n=a.getRootProps,c=a.getInputProps;return r.a.createElement("div",Object.assign({className:oe.a.Root},n()),r.a.createElement("input",c()),r.a.createElement(re.a,{className:oe.a.Empty,image:r.a.createElement(S.a,{type:"file-image",className:oe.a.Icon}),description:"\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af or \u30c9\u30ed\u30c3\u30d7\u3057\u3066\u753b\u50cf\u3092\u958b\u304f"}))},le=a(86),ue=a.n(le),se=L.a.Content,me=L.a.Sider,pe=function(){var e=Object(n.useRef)(null);!function(e,t){var a=Object(l.b)(),r=Object(n.useCallback)((function(n){var r=e.current;if(r)switch("".concat(n.metaKey?"\u2318":"").concat(n.key)){case"ArrowLeft":r.move(-1,0);break;case"ArrowRight":r.move(1,0);break;case"ArrowUp":r.move(0,-1);break;case"ArrowDown":r.move(0,1);break;case"z":a(y());break;case"x":a(k());break;case"\u2318ArrowLeft":r.setCropBoxData({width:r.getCropBoxData().width-1});break;case"\u2318ArrowRight":r.setCropBoxData({width:r.getCropBoxData().width+1});break;case"\u2318ArrowUp":r.setCropBoxData({height:r.getCropBoxData().height-1});break;case"\u2318ArrowDown":r.setCropBoxData({height:r.getCropBoxData().height+1});break;case"Enter":var c=r.getData(),o=c.x,i=c.y,l=c.width,u=c.height,s=c.rotate,m=document.querySelector(".".concat(t)).style,p=document.querySelector(".".concat(t,">img")).style;a(b({params:{x:o,y:i,width:l,height:u,rotate:s},divStyle:{width:m.width,height:m.height},imgStyle:{width:p.width,height:p.height,transform:p.transform}}))}}),[e,a,t]);Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}),[r])}(e,R);var t=Object(l.c)((function(e){return Boolean(e.sourceImage.url)}));return r.a.createElement(L.a,null,r.a.createElement(se,{className:ue.a.Content},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{cropperRef:e,previews:[M,R]}),r.a.createElement(ae,null)):r.a.createElement(ie,null)),r.a.createElement(me,{width:320,className:ue.a.Sider,theme:"light"},r.a.createElement(Z,null)))},de=(a(192),a(193),Object(i.a)({reducer:N}));o.a.render(r.a.createElement(l.a,{store:de},r.a.createElement(pe,null)),document.getElementById("root"))},23:function(e,t,a){e.exports={CropList:"CropList_CropList__HvDYP",Crop:"CropList_Crop__2OCZE",CropPreview:"CropList_CropPreview__20KHl",Thumbnail:"CropList_Thumbnail__3bha8",ThumbnailPreview:"CropList_ThumbnailPreview__zBLOz",DeleteIcon:"CropList_DeleteIcon__1tKMW"}},42:function(e,t,a){e.exports={Sidebar:"Sidebar_Sidebar__c0TTh",PreviewWrapper:"Sidebar_PreviewWrapper__3yT_p",Preview:"Sidebar_Preview__3edd7",CropList:"Sidebar_CropList__2dT_-"}},61:function(e,t,a){e.exports={Root:"Dropzone_Root__oZIIO",Empty:"Dropzone_Empty__kL6cb",Icon:"Dropzone_Icon__qVqCp"}},85:function(e,t,a){e.exports={FileName:"FileName_FileName__3JfId",CloseIcon:"FileName_CloseIcon__zCSps"}},86:function(e,t,a){e.exports={Content:"App_Content__3vRik",Sider:"App_Sider__3tFNd"}}},[[119,1,2]]]);
//# sourceMappingURL=main.41c7483f.chunk.js.map