(this.webpackJsonpkirinuki=this.webpackJsonpkirinuki||[]).push([[0],{105:function(e,t,a){e.exports={AngleSlider:"AngleSlider_AngleSlider__2SJUR"}},111:function(e,t,a){e.exports={Cropper:"Canvas_Cropper__3Z3Jq"}},119:function(e,t,a){e.exports=a(194)},193:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(4),o=a.n(c),i=a(39),l=a(9),u=a(14),s=[],m=Object(i.b)({name:"crops",initialState:s,reducers:{addCrop:function(e,t){e.push(t.payload)},deleteCrop:function(e,t){e.splice(t.payload,1)},clearCrops:function(){return s}}}),p=m.reducer,d=m.actions,b=d.addCrop,f=d.deleteCrop,g=d.clearCrops,v=a(117),C={fileName:null,url:null,angle:0},_=Object(i.b)({name:"sourceImage",initialState:C,reducers:{open:function(e,t){return Object(v.a)({},t.payload,{angle:C.angle})},close:function(){return C},setAngle:function(e,t){e.angle=t.payload},rotate:function(e,t){e.angle=e.angle+t.payload}}}),h=_.reducer,w=_.actions,E=w.open,O=w.close,k=w.setAngle,j=w.rotate,y=Object(u.combineReducers)({crops:p,sourceImage:h}),N=a(197),L=a(11),S=a(5),x=a.n(S),I=a(23),D=a.n(I),R=D.a.ThumbnailPreview,A=function(e){var t=e.className,a=Object(l.c)((function(e){return e.crops})),c=Object(l.b)(),o=Object(r.useCallback)((function(e){return function(){c(f(e))}}),[c]),i=Object(l.c)((function(e){var t;return null!==(t=e.sourceImage.url)&&void 0!==t?t:void 0}));return n.a.createElement("div",{className:x()(t,D.a.CropList)},a.map((function(e,t){return n.a.createElement("div",{key:t,className:D.a.Crop},n.a.createElement("div",{className:D.a.Thumbnail,style:e.divStyle},n.a.createElement("img",{src:i,alt:"\u5207\u308a\u629c\u304d ".concat(t+1),style:e.imgStyle})),n.a.createElement(L.a,{className:D.a.DeleteIcon,type:"delete",onClick:o(t)}))})),n.a.createElement("div",{className:x()(D.a.Crop,D.a.CropPreview)},n.a.createElement("div",{className:x()(D.a.Thumbnail,R)})))},P=a(195),T=a(105),B=a.n(T),U=function(e){return"".concat(e.toFixed(1),"\xb0")},F=function(){var e=Object(l.c)((function(e){return e.sourceImage})),t=Boolean(e.url),a=Object(l.b)(),c=Object(r.useCallback)((function(t){"number"===typeof t&&-10<=e.angle&&e.angle<=10&&a(k(t))}),[a,e.angle]);return n.a.createElement(P.a,{className:B.a.AngleSlider,disabled:!t,min:-10,max:10,step:.1,defaultValue:0,value:e.angle,onChange:c,tipFormatter:U,tooltipPlacement:"bottom"})},z=a(49),J=function(){var e=Object(l.c)((function(e){return e.crops})),t=Object(l.c)((function(e){return e.sourceImage.fileName})),a=Object(r.useCallback)((function(){var a,r=JSON.stringify(e.map((function(e){return e.params})),null,2),n="".concat((a=t).substr(0,a.lastIndexOf(".")),".json");!function(e){var t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=e.name,a.click(),URL.revokeObjectURL(t)}(new File([r],n,{type:"application/json"}))}),[e,t]);return n.a.createElement(z.a,{disabled:!e.length,type:"primary",icon:"download",onClick:a},"\u5207\u308a\u629c\u304d\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9")},q=a(42),K=a.n(q),W=K.a.Preview,Z=function(){return n.a.createElement("div",{className:K.a.Sidebar},n.a.createElement(F,null),n.a.createElement("div",{className:K.a.PreviewWrapper},n.a.createElement("div",{className:K.a.Preview})),n.a.createElement(A,{className:K.a.CropList}),n.a.createElement(J,null))},M=a(110),H=a.n(M),V=(a(191),a(111)),X=a.n(V),Y=function(e){var t,a=e.cropperRef,c=e.previews,o=Object(l.c)((function(e){return e.sourceImage}));return Object(r.useEffect)((function(){a.current&&a.current.rotateTo(o.angle)}),[a,o.angle]),n.a.createElement(H.a,{className:X.a.Cropper,ref:function(e){a.current=e},src:null!==(t=o.url)&&void 0!==t?t:void 0,autoCropArea:.2,preview:c.map((function(e){return".".concat(e)})).join(", "),dragMode:"move",toggleDragModeOnDblclick:!1})},G=a(196),Q=a(85),$=a.n(Q),ee=G.a.confirm,te=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.sourceImage})),a=Object(r.useCallback)((function(){t.url&&(URL.revokeObjectURL(t.url),e(O()),e(g()))}),[e,t.url]),c=Object(l.c)((function(e){return e.crops.length>0})),o=Object(r.useCallback)((function(){return c?ee({title:"\u753b\u50cf\u3092\u9589\u3058\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",content:"\u5207\u308a\u629c\u304d\u30c7\u30fc\u30bf\u306f\u7834\u68c4\u3055\u308c\u307e\u3059\u3002",okType:"danger",onOk:a,okText:"OK",cancelText:"\u30ad\u30e3\u30f3\u30bb\u30eb",centered:!0}):a()}),[a,c]);return n.a.createElement("div",{className:$.a.FileName,onClick:o},t.fileName,n.a.createElement(L.a,{className:$.a.CloseIcon,type:"close-circle"}))},ae=a(114),re=a(43),ne=a(61),ce=a.n(ne),oe=function(){var e=Object(l.c)((function(e){return Boolean(e.sourceImage.url)})),t=Object(l.b)(),a=Object(ae.a)({accept:["image/jpeg","image/png"],noClick:e,noKeyboard:!0,onDrop:function(e){var a=e[0];if(e){var r=URL.createObjectURL(a);t(E({fileName:a.name,url:r}))}}}),r=a.getRootProps,c=a.getInputProps;return n.a.createElement("div",Object.assign({className:ce.a.Root},r()),n.a.createElement("input",c()),n.a.createElement(re.a,{className:ce.a.Empty,image:n.a.createElement(L.a,{type:"file-image",className:ce.a.Icon}),description:"\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af or \u30c9\u30ed\u30c3\u30d7\u3057\u3066\u753b\u50cf\u3092\u958b\u304f"}))},ie=a(86),le=a.n(ie),ue=N.a.Content,se=N.a.Sider,me=function(){var e=Object(r.useRef)(null);!function(e,t){var a=Object(l.b)(),n=Object(r.useCallback)((function(r){var n=e.current;if(n){switch("".concat(r.metaKey?"\u2318":"").concat(r.key)){case"ArrowLeft":n.move(-1,0);break;case"ArrowRight":n.move(1,0);break;case"ArrowUp":n.move(0,-1);break;case"ArrowDown":n.move(0,1);break;case"z":a(j(-.1));break;case"x":a(j(.1));break;case"Z":a(j(-90));break;case"X":a(j(90));break;case"\u2318ArrowLeft":n.setCropBoxData({width:n.getCropBoxData().width-1});break;case"\u2318ArrowRight":n.setCropBoxData({width:n.getCropBoxData().width+1});break;case"\u2318ArrowUp":n.setCropBoxData({height:n.getCropBoxData().height-1});break;case"\u2318ArrowDown":n.setCropBoxData({height:n.getCropBoxData().height+1});break;case"Enter":var c=n.getData(),o=c.x,i=c.y,l=c.width,u=c.height,s=c.rotate,m=document.querySelector(".".concat(t)).style,p=document.querySelector(".".concat(t,">img")).style;a(b({params:{x:o,y:i,width:l,height:u,rotate:s},divStyle:{width:m.width,height:m.height},imgStyle:{width:p.width,height:p.height,transform:p.transform}}));break;default:return}r.preventDefault()}}),[e,a,t]);Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[n])}(e,R);var t=Object(l.c)((function(e){return Boolean(e.sourceImage.url)}));return n.a.createElement(N.a,null,n.a.createElement(ue,{className:le.a.Content},t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Y,{cropperRef:e,previews:[W,R]}),n.a.createElement(te,null)):n.a.createElement(oe,null)),n.a.createElement(se,{width:320,className:le.a.Sider,theme:"light"},n.a.createElement(Z,null)))},pe=(a(192),a(193),Object(i.a)({reducer:y}));o.a.render(n.a.createElement(l.a,{store:pe},n.a.createElement(me,null)),document.getElementById("root"))},23:function(e,t,a){e.exports={CropList:"CropList_CropList__HvDYP",Crop:"CropList_Crop__2OCZE",CropPreview:"CropList_CropPreview__20KHl",Thumbnail:"CropList_Thumbnail__3bha8",ThumbnailPreview:"CropList_ThumbnailPreview__zBLOz",DeleteIcon:"CropList_DeleteIcon__1tKMW"}},42:function(e,t,a){e.exports={Sidebar:"Sidebar_Sidebar__c0TTh",PreviewWrapper:"Sidebar_PreviewWrapper__3yT_p",Preview:"Sidebar_Preview__3edd7",CropList:"Sidebar_CropList__2dT_-"}},61:function(e,t,a){e.exports={Root:"Dropzone_Root__oZIIO",Empty:"Dropzone_Empty__kL6cb",Icon:"Dropzone_Icon__qVqCp"}},85:function(e,t,a){e.exports={FileName:"FileName_FileName__3JfId",CloseIcon:"FileName_CloseIcon__zCSps"}},86:function(e,t,a){e.exports={Content:"App_Content__3vRik",Sider:"App_Sider__3tFNd"}}},[[119,1,2]]]);
//# sourceMappingURL=main.762b91ec.chunk.js.map