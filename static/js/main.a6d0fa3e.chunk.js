(this.webpackJsonpkirinuki=this.webpackJsonpkirinuki||[]).push([[0],{105:function(e,t,n){e.exports={Cropper:"Canvas_Cropper__3Z3Jq"}},107:function(e,t,n){e.exports={Sider:"App_Sider__3tFNd"}},111:function(e,t,n){e.exports=n(186)},185:function(e,t,n){},186:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(8),o=n.n(c),i=n(32),l=n(10),u=n(13),s=Object(i.b)({name:"crops",initialState:[],reducers:{addCrop:function(e,t){e.push(t.payload)},deleteCrop:function(e,t){e.splice(t.payload,1)}}}),p=s.reducer,m=s.actions,d=m.addCrop,b=m.deleteCrop,f=Object(i.b)({name:"sourceImage",initialState:{url:null,angle:0},reducers:{setURL:function(e,t){e.url=t.payload},setAngle:function(e,t){e.angle=t.payload}}}),_=f.reducer,g=f.actions,v=g.setURL,C=g.setAngle,E=Object(u.combineReducers)({crops:p,sourceImage:_}),h=n(188),O=n(73),j=n.n(O),w=n(94),y=n(7),k=n.n(y),L=n(42),N=n.n(L),S=n(35),I=function(e){var t=e.className,n=Object(l.c)((function(e){return e.crops})),c=Object(l.b)(),o=Object(r.useCallback)((function(e){return function(){c(b(e))}}),[c]);return a.a.createElement("div",{className:k()(t,N.a.CropList)},n.map((function(e,t){return a.a.createElement("div",{key:t,className:N.a.Crop},a.a.createElement("img",{className:N.a.Thumbnail,src:e.thumbnail,alt:""}),a.a.createElement(S.a,{className:N.a.DeleteIcon,type:"delete",onClick:o(t)}))})))},R=n(187),x=n(97),P=n.n(x),D=function(e){return"".concat(e.toFixed(1),"\xb0")},A=function(){var e=Object(l.c)((function(e){return Boolean(e.sourceImage.url)})),t=Object(l.b)(),n=Object(r.useCallback)((function(e){"number"===typeof e&&t(C(e))}),[t]);return a.a.createElement(R.a,{className:P.a.AngleSlider,disabled:!e,min:-10,max:10,step:.1,defaultValue:0,onChange:n,tipFormatter:D,tooltipPlacement:"bottom"})},T=n(34),U=n.n(T),B=U.a.Preview,J=function(){return a.a.createElement("div",{className:U.a.Sidebar},a.a.createElement(A,null),a.a.createElement("div",{className:U.a.PreviewWrapper},a.a.createElement("div",{className:U.a.Preview})),a.a.createElement(I,{className:U.a.CropList}))},W=n(104),q=n.n(W),z=(n(183),n(105)),F=n.n(z),M=function(e){var t=e.cropperRef,n=e.previewClassName,c=Object(l.c)((function(e){var t;return null!==(t=e.sourceImage.url)&&void 0!==t?t:void 0})),o=Object(l.b)(),i=Object(l.c)((function(e){return e.sourceImage.angle}));return Object(r.useEffect)((function(){t.current&&t.current.rotateTo(i)}),[i,t,o]),a.a.createElement(q.a,{className:F.a.Cropper,ref:function(e){t.current=e},src:c,autoCropArea:.2,preview:".".concat(n),dragMode:"move",toggleDragModeOnDblclick:!1})},Z=n(108),K=n(36),V=n(51),H=n.n(V),Y=function(e){var t=e.children,n=Object(l.c)((function(e){return Boolean(e.sourceImage.url)})),r=Object(l.b)(),c=Object(Z.a)({accept:["image/jpeg","image/png"],noClick:n,noKeyboard:!0,onDrop:function(e){if(0!==e.length){var t=URL.createObjectURL(e[0]);r(v(t))}}}),o=c.getRootProps,i=c.getInputProps;return a.a.createElement("div",Object.assign({className:H.a.Root},o()),a.a.createElement("input",i()),n?t:a.a.createElement(K.a,{className:H.a.Empty,image:a.a.createElement(S.a,{type:"file-image",className:H.a.Icon}),description:"\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af or \u30c9\u30ed\u30c3\u30d7\u3057\u3066\u753b\u50cf\u3092\u958b\u304f"}))},G=n(107),Q=n.n(G),X=h.a.Content,$=h.a.Sider,ee=function(){var e=Object(r.useRef)(null);return function(e){var t=Object(l.b)(),n=Object(r.useCallback)(function(){var n=Object(w.a)(j.a.mark((function n(r){var a,c,o,i,l,u,s,p,m;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a=e.current)||"Enter"!==r.key){n.next=8;break}return c=a.getData(),o=c.x,i=c.y,l=c.width,u=c.height,s=c.rotate,p=a.getCroppedCanvas({width:300,height:300}),n.next=6,new Promise((function(e){return p.toBlob(e)}));case 6:m=n.sent,t(d({params:{x:o,y:i,width:l,height:u,rotate:s},thumbnail:URL.createObjectURL(m)}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,t]);Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[n])}(e),a.a.createElement(h.a,null,a.a.createElement(X,null,a.a.createElement(Y,null,a.a.createElement(M,{cropperRef:e,previewClassName:B}))),a.a.createElement($,{width:320,className:Q.a.Sider,theme:"light"},a.a.createElement(J,null)))},te=(n(184),n(185),Object(i.a)({reducer:E}));o.a.render(a.a.createElement(l.a,{store:te},a.a.createElement(ee,null)),document.getElementById("root"))},34:function(e,t,n){e.exports={Sidebar:"Sidebar_Sidebar__c0TTh",PreviewWrapper:"Sidebar_PreviewWrapper__3yT_p",Preview:"Sidebar_Preview__3edd7",CropList:"Sidebar_CropList__2dT_-"}},42:function(e,t,n){e.exports={CropList:"CropList_CropList__HvDYP",Crop:"CropList_Crop__2OCZE",Thumbnail:"CropList_Thumbnail__3bha8",DeleteIcon:"CropList_DeleteIcon__1tKMW"}},51:function(e,t,n){e.exports={Root:"Dropzone_Root__oZIIO",Empty:"Dropzone_Empty__kL6cb",Icon:"Dropzone_Icon__qVqCp"}},97:function(e,t,n){e.exports={AngleSlider:"AngleSlider_AngleSlider__2SJUR"}}},[[111,1,2]]]);
//# sourceMappingURL=main.a6d0fa3e.chunk.js.map