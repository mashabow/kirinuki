(this.webpackJsonpkirinuki=this.webpackJsonpkirinuki||[]).push([[0],{104:function(e,t,a){e.exports={Cropper:"Canvas_Cropper__3Z3Jq"}},106:function(e,t,a){e.exports={Sider:"App_Sider__3tFNd"}},110:function(e,t,a){e.exports=a(185)},184:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(8),o=a.n(c),i=a(32),u=a(10),l=a(13),s=Object(i.b)({name:"crops",initialState:[],reducers:{addCrop:function(e,t){e.push(t.payload)},deleteCrop:function(e,t){e.splice(t.payload,1)}}}),p=s.reducer,m=s.actions,d=m.addCrop,b=m.deleteCrop,f=Object(i.b)({name:"sourceImage",initialState:{url:null,angle:0},reducers:{setURL:function(e,t){e.url=t.payload},setAngle:function(e,t){e.angle=t.payload}}}),_=f.reducer,v=f.actions,C=v.setURL,g=v.setAngle,E=Object(l.combineReducers)({crops:p,sourceImage:_}),h=a(187),O=a(73),j=a.n(O),w=a(94),y=a(186),k=a(34),L=a.n(k),N=a(7),I=a.n(N),R=a(42),x=a.n(R),S=a(35),P=function(e){var t=e.className,a=Object(u.c)((function(e){return e.crops})),c=Object(u.b)(),o=Object(n.useCallback)((function(e){return function(){c(b(e))}}),[c]);return r.a.createElement("div",{className:I()(t,x.a.CropList)},a.map((function(e,t){return r.a.createElement("div",{key:t,className:x.a.Crop},r.a.createElement("img",{className:x.a.Thumbnail,src:e.thumbnail,alt:""}),r.a.createElement(S.a,{className:x.a.DeleteIcon,type:"delete",onClick:o(t)}))})))},D=L.a.Preview,T=function(e){return"".concat(e.toFixed(1),"\xb0")},U=function(){var e=Object(u.b)(),t=Object(n.useCallback)((function(t){"number"===typeof t&&e(g(t))}),[e]);return r.a.createElement("div",{className:L.a.Sidebar},r.a.createElement(y.a,{min:-10,max:10,step:.1,defaultValue:0,onChange:t,tipFormatter:T,tooltipPlacement:"bottom"}),r.a.createElement("div",{className:L.a.PreviewWrapper},r.a.createElement("div",{className:L.a.Preview})),r.a.createElement(P,{className:L.a.CropList}))},A=a(103),W=a.n(A),q=(a(182),a(104)),z=a.n(q),B=function(e){var t=e.cropperRef,a=e.previewClassName,c=Object(u.c)((function(e){var t;return null!==(t=e.sourceImage.url)&&void 0!==t?t:void 0})),o=Object(u.b)(),i=Object(u.c)((function(e){return e.sourceImage.angle}));return Object(n.useEffect)((function(){t.current&&t.current.rotateTo(i)}),[i,t,o]),r.a.createElement(W.a,{className:z.a.Cropper,ref:function(e){t.current=e},src:c,autoCropArea:.2,preview:".".concat(a),dragMode:"move",toggleDragModeOnDblclick:!1})},F=a(107),J=a(36),M=a(51),Z=a.n(M),K=function(e){var t=e.children,a=Object(u.c)((function(e){return Boolean(e.sourceImage.url)})),n=Object(u.b)(),c=Object(F.a)({accept:["image/jpeg","image/png"],noClick:a,noKeyboard:!0,onDrop:function(e){if(0!==e.length){var t=URL.createObjectURL(e[0]);n(C(t))}}}),o=c.getRootProps,i=c.getInputProps;return r.a.createElement("div",Object.assign({className:Z.a.Root},o()),r.a.createElement("input",i()),a?t:r.a.createElement(J.a,{className:Z.a.Empty,image:r.a.createElement(S.a,{type:"file-image",className:Z.a.Icon}),description:"\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af or \u30c9\u30ed\u30c3\u30d7\u3057\u3066\u753b\u50cf\u3092\u958b\u304f"}))},V=a(106),H=a.n(V),Y=h.a.Content,G=h.a.Sider,Q=function(){var e=Object(n.useRef)(null);return function(e){var t=Object(u.b)(),a=Object(n.useCallback)(function(){var a=Object(w.a)(j.a.mark((function a(n){var r,c,o,i,u,l,s,p,m;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r=e.current)||"Enter"!==n.key){a.next=8;break}return c=r.getData(),o=c.x,i=c.y,u=c.width,l=c.height,s=c.rotate,p=r.getCroppedCanvas({width:300,height:300}),a.next=6,new Promise((function(e){return p.toBlob(e)}));case 6:m=a.sent,t(d({params:{x:o,y:i,width:u,height:l,rotate:s},thumbnail:URL.createObjectURL(m)}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[e,t]);Object(n.useEffect)((function(){return window.addEventListener("keydown",a),function(){return window.removeEventListener("keydown",a)}}),[a])}(e),r.a.createElement(h.a,null,r.a.createElement(Y,null,r.a.createElement(K,null,r.a.createElement(B,{cropperRef:e,previewClassName:D}))),r.a.createElement(G,{width:320,className:H.a.Sider,theme:"light"},r.a.createElement(U,null)))},X=(a(183),a(184),Object(i.a)({reducer:E}));o.a.render(r.a.createElement(u.a,{store:X},r.a.createElement(Q,null)),document.getElementById("root"))},34:function(e,t,a){e.exports={Sidebar:"Sidebar_Sidebar__c0TTh",PreviewWrapper:"Sidebar_PreviewWrapper__3yT_p",Preview:"Sidebar_Preview__3edd7",CropList:"Sidebar_CropList__2dT_-"}},42:function(e,t,a){e.exports={CropList:"CropList_CropList__HvDYP",Crop:"CropList_Crop__2OCZE",Thumbnail:"CropList_Thumbnail__3bha8",DeleteIcon:"CropList_DeleteIcon__1tKMW"}},51:function(e,t,a){e.exports={Root:"Dropzone_Root__oZIIO",Empty:"Dropzone_Empty__kL6cb",Icon:"Dropzone_Icon__qVqCp"}}},[[110,1,2]]]);
//# sourceMappingURL=main.b882485d.chunk.js.map